;/*FB_PKG_DELIM*/

__d("MAjaxifyFormTypes",[],(function(a,b,c,d,e,f){e.exports={PAGELOAD:"pageload",NOCACHE:"nocache",CACHE:"cache"}}),null);
__d("MAjaxify",["CSS","DOM","ErrorUtils","LoadingIndicator","MAjaxifyFormTypes","MHistory","MLegacyDataStore","MPageCache","MPageControllerPath","MRequest","MRequestTypes","Stratcom","URI"],(function(a,b,c,d,e,f){var g,h,i={postprocess:function(a){b("MPageCache").addCachedIUIResponse(b("MPageControllerPath").getRequestPath(),a.response)}};function j(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>-1}function k(a,b){while(a&&!j(a,b))a=a.parentNode;return a}function l(a,c,d,e,f){e=e||"async_elem";a&&(a.preventDefault(),a.stopPropagation());if(c){var g=k(c,e)||c,h=e+"_saving";if(j(g,h))return!1;b("CSS").conditionClass(g,e+"_preprocess",!0);a=function(a){b("CSS").conditionClass(g,e,!a),b("CSS").conditionClass(g,h,a),b("Stratcom").invoke(a?"m:ajax:saving:start":"m:ajax:saving:complete",null,g)};d.listen("start",a.bind(null,!0));d.listen("finally",a.bind(null,!1))}d.setType(b("MRequestTypes").INDEPENDENT);for(c=0,a=f.length;c<a;c++){var i=f[c];for(var l in i)d.listen(l,i[l])}d.send();return!1}var m=["input","textarea","select","button","object"];function n(a,c){for(var d=0;d<m.length;d++){var e=b("DOM").scry(a,m[d]);for(var f=0;f<e.length;f++){var g=b("MLegacyDataStore").get(e[f]);c?(g.wasDisabled=e[f].disabled,e[f].disabled=!0):e[f].disabled=g.wasDisabled}}}function o(a,c,d){this.start=function(){if(d)return;n(a,!0)},this.process=function(b){if(d)return;n(a,!1);a.reset();if(document.createEvent&&a.dispatchEvent){b=document.createEvent("HTMLEvents");b.initEvent("reset",!0,!0);a.dispatchEvent(b)}},this.error=this.fail=function(d){n(a,!1),c==b("MAjaxifyFormTypes").PAGELOAD&&b("LoadingIndicator").hide()},this.postprocess=function(a){c==b("MAjaxifyFormTypes").PAGELOAD&&b("LoadingIndicator").hide(),c==b("MAjaxifyFormTypes").CACHE&&i.postprocess(a),b("Stratcom").invoke("m:ajax:complete")}}var p=null;document.addEventListener("click",function(a){a=a.target;(a.tagName==="INPUT"||a.tagName==="BUTTON")&&a.type=="submit"&&(p=a)},!0);function q(a,b,c,d,e){return l(a,b,c,d,e?[i].concat(e):[i])}function a(a,c,d,e){return!c||(a.which||a.button)>=2?!0:q(a,a.target,new(b("MRequest"))(c),d,e)}function c(a,c,d,e,f,i,j,k,m){m===void 0&&(m=!1);return(g||(g=b("ErrorUtils"))).guard(function(){if(!c||!c.hasAttribute("action")||c.getAttribute("action")==="")return!0;var g=b("DOM").convertFormToDictionary(c);p&&(g[p.name]=p.value,p=null);var k=new(b("MRequest"))(c.getAttribute("action"));k.processResponseAfterPageTransitions=m;k.addData(g);k.setMethod(c.method||"POST");var n=null;if(e===b("MAjaxifyFormTypes").PAGELOAD){if(c.method.toUpperCase()==="GET"){g=new(h||(h=b("URI")))(c.getAttribute("action")).qualify().addQueryData(g);b("MHistory").pushState(g)}b("LoadingIndicator").show()}else n=i?null:f||c;j||(j=[]);j.push(new o(c,e,i));b("Stratcom").invoke("MAjaxify.form.ajax.start","",k);return l(a,n,k,d,j)},"MAjaxify.form")()}f.ajaxify=q;f.form=c;f.link=a}),null);
__d("XAsyncRequest",["MRequest"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.setAllowCrossPageTransition=function(a){return b};this.$1=new(c("MRequest"))(a)}var b=a.prototype;b.setURI=function(a){this.$1.setURI(a);return this};b.setMethod=function(a){this.$1.setMethod(a);return this};b.setType=function(a){this.$1.setType(a);return this};b.setAutoProcess=function(a){this.$1.setAutoProcess(a);return this};b.setData=function(a,b){if(b!==void 0&&b){b={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&a[c]!==void 0&&(b[c]=a[c]);this.$1.setData(b)}else this.$1.setData(a);return this};b.setRawData=function(a){this.$1.setRawData(a);return this};b.setHandler=function(a){this.$1.listen("done",a);return this};b.setPayloadHandler=function(a){this.setHandler(function(b){return a(b.payload)});return this};b.setTimeoutHandler=function(a,b){this.$1.setTimeout(a);this.$1.listen("error",b);return this};b.setErrorHandler=function(a){this.$1.listen("error",a);return this};b.setResponseHandler=function(a){this.$1.listen("response",a);return this};b.setReadOnly=function(a){this.$1.setReadOnly(a);return this};b.send=function(){this.$1.send();return this};b.abort=function(){this.$1.abort()};b.setAllowCrossOrigin=function(a){this.$1.setCORS(a);return this};b.setAllowCredentials=function(a){this.$1.setAllowCredentials(a);return this};b.setRequestHeader=function(a,b){this.$1.setRequestHeader(a,b);return this};b.setUploadProgressHandler=function(a){this.$1.listen("uploadprogress",a);return this};return a}();g["default"]=a}),98);
__d("legacy:m-ajaxify-js",["MAjaxify"],(function(a,b,c,d,e,f){a.MAjaxify=b("MAjaxify")}),3);
__d("MVerifyCache",["MCache","WebStorage"],(function(a,b,c,d,e,f,g){function a(a){var b=d("MCache").VIEWER_KEY,e=d("MCache").getItem(b),f=a.viewer===0&&(h(c("WebStorage").getLocalStorage())||h(c("WebStorage").getSessionStorage()));(e!==a.viewer||f)&&((e||f)&&d("MCache").clear(),d("MCache").setItem(b,a.viewer,!0))}function h(a){if(a==null)return!1;a=Object.keys(a);for(var b=0;b<a.length;b++){var c=a[b];if(c.startsWith("sharedprefs.web."))return!0}return!1}g.main=a}),98);
__d("MPageError",["$","DOM","FBLogger","LoadingIndicator","MErrorCodes","MPageController","Stratcom"],(function(a,b,c,d,e,f){var g=b("$")("mErrorView"),h=b("DOM").find(g,"div","error-message");b("Stratcom").listen("click","MPageError:retry",b("MPageController").reload);b("Stratcom").listen("m:page:loading",null,function(a){b("DOM").hide(g)});b("Stratcom").listen("m:page:error",null,function(a){a=a.getData();var c=b("MErrorCodes").getMessage(a);b("LoadingIndicator").hide();b("DOM").setContent(h,c);b("DOM").show(g);b("FBLogger")("FIXME").warn("Error code: %s",a)})}),null);
__d("MPageHeaderAccessibility",["DOM","MAria","Stratcom"],(function(a,b,c,d,e,f){a=document.body;var g=b("DOM").scry(a,"*","mChromeHeaderCenter")[0],h=b("DOM").scry(a,"*","mChromeHeaderRight")[0],i=document.getElementById("root");function j(a){a&&b("MAria").show(a)}function k(a){a&&b("MAria").hide(a)}b("Stratcom").listen("m:side-area:show",null,function(a){k(g),k(h),k(i)});b("Stratcom").listen("m:side-area:hide",null,function(a){j(g),j(h),j(i)});e.exports={}}),null);
__d("RemoteDevice",["Banzai","Cookie","GeneratedLoggerUtils","MViewport","Run","isInIframe"],(function(a,b,c,d,e,f,g){var h=!1;function a(a){if(!c("isInIframe")()&&!window.APP_ENABLED&&!window.FW_ENABLED){if(/\((?:iPad|iPhone|iPod(?: touch));/.test(navigator.userAgent)){var b=Math.min(screen.width,screen.height),e=Math.max(screen.width,screen.height);b&&e&&(c("Cookie").set("wd",b+"x"+e),c("Cookie").set("m_pixel_ratio",window.devicePixelRatio));a&&a.performHardwareDetection&&a.hashId!==null&&d("Run").onAfterLoad(function(){i(a.hashId||"")});return}b=d("MViewport").getWidth();e=d("MViewport").getScreenHeight();if(!b||!e)return;c("Cookie").set("wd",b+"x"+e)}}function i(a){if(h)return;h=!0;var b=document.createElement("canvas");if(!b)return;b=b.getContext("webgl")||b.getContext("experimental-webgl");if(!b)return;var e=b.getExtension("WEBGL_debug_renderer_info");if(!e)return;var f="unknown",g="unknown";e!=null&&(f=b.getParameter(e.UNMASKED_RENDERER_WEBGL),g=b.getParameter(e.UNMASKED_VENDOR_WEBGL));b=0;window.navigator&&(b=window.navigator.hardwareConcurrency);e=window.screen.width;var i=window.screen.height,j=Math.min(e,i);e=Math.max(e,i);i={gpu_renderer:f,gpu_vendor:g,logical_cpu_count:b,screen_width_pixel:j,screen_height_pixel:e,device_pixel_ratio:window.devicePixelRatio,hashid:a};d("GeneratedLoggerUtils").log("logger:MHardwareDetectorLoggerConfig",i,c("Banzai").VITAL)}g.init=a;g.logHardwareInfo=i}),98);
__d("MStoriesRing",["cx","CSS","DOM","Stratcom","ge"],(function(a,b,c,d,e,f,g,h){"use strict";var i="m:feed:story:all-stories-viewed",j="m:page:render:cache:complete-with-replays";function a(a){c("Stratcom").listen(i,null,function(b){var e=b.getData().ownerID;c("Stratcom").listen(j,null,function(){var b=c("ge")(a);if(!b)return;b=d("DOM").scry(b,"div","feed_story_ring".concat(e.toString()))||[];b.forEach(function(a){c("CSS").removeClass(a,"_847o")})})})}g.setupStoryRingForUpdates=a}),98);
__d("MVisibilityToggle",["CSS","Event"],(function(a,b,c,d,e,f,g){"use strict";function h(a){}function a(a){var b=a.toggleButton,d=a.toggledElement,e=a.visible,f=a.onToggle||h;a=a.options;var g=!!a&&a.hideToggleButtonOnVisible===!0;c("Event").listen(b,"click",function(){e?c("CSS").hide(d):(c("CSS").show(d),g&&c("CSS").hide(b)),e=!e,f(e)})}g.setupOnClick=a}),98);
__d("MSeoDirectoryLinks",["cx","CSS","MVisibilityToggle"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=a.visible,e=a.toggleButton;d("MVisibilityToggle").setupOnClick({visible:b,toggleButton:e,toggledElement:a.linksContainer,onToggle:function(a){a?c("CSS").addClass(e,"_97hz"):c("CSS").removeClass(e,"_97hz")}})}g.initLinks=a}),98);
__d("LogHistoryListeners",["Clock","ErrorPubSub","LogHistory"],(function(a,b,c,d,e,f,g){var h=d("LogHistory").getInstance("sys");c("Clock").addListener(c("Clock").ANOMALY,function(a){h.warn("clock_anomaly",c("Clock").getSamples())});c("ErrorPubSub").addListener(function(a){h.error("error",JSON.stringify({guard:a.guardList[0],line:a.line,message:a.message,script:a.script,stack:a.stack}))})}),34);
__d("MUnsupportedBrowserBanner",["DOM","Event","Stratcom"],(function(a,b,c,d,e,f,g){a={register:function(a){function b(){c("DOM").hide(a)}c("Event").listen(a,"click",b);c("Stratcom").listen("m:history:change",null,b)}};g["default"]=a}),98);
__d("EventProfilerAdsSessionProvider",[],(function(a,b,c,d,e,f){"use strict";a=null;f.sessionID=a}),66);
__d("LoggedOutLoginSignupBarTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:LoggedOutLoginSignupBarLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:LoggedOutLoginSignupBarLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:LoggedOutLoginSignupBarLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setIsPrimaryCtaReg=function(a){this.$1.is_primary_cta_reg=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};return a}();c={event:!0,is_primary_cta_reg:!0,surface:!0};f["default"]=a}),66);
__d("MPopupSmallCta",["Event","LoggedOutLoginSignupBarTypedLogger","MAnimator","MViewport","Run","Style","clearTimeout","ge","setInterval"],(function(a,b,c,d,e,f){"use strict";var g=150,h=1e3,i=214;a={show:function(a,c,d,e){this._expandingCta=a,this._ctaUnit=c,this._closeIcon=d,this._ctaVisible=!1,this._ctaShownOnce=!1,this._ctaClosed=!1,this._referrerSurface=e,b("Run").onAfterLoad(this._init.bind(this))},_init:function(){var a=this,c,d=(c=b("ge"))("header"),e=c("header-notices"),f=c("mobile_login_bar");c=c("account_switcher_footer");this._scrollThreshold=0;this._height=i;if(d){b("Style").set(d,"z-index","0");d=d.clientHeight;d&&(this._scrollThreshold+=d)}if(e){b("Style").set(e,"z-index","0");d=e.clientHeight;d&&(this._scrollThreshold+=d)}if(f){e=f.clientHeight;e&&(this._scrollThreshold+=e,this._height=e)}if(c){d=c.clientHeight;d&&(this._scrollThreshold+=d,this._height=d)}b("setInterval")(this._updateCTA.bind(this),h);b("Event").listen(this._closeIcon,"click",function(){a._ctaClosed=!0,a._hideCTA()})},_hideCTA:function(){var a=this,c=this._expandingCta.clientHeight;b("MAnimator").play(c,0,g,function(c){return b("Style").set(a._expandingCta,"height",Math.round(c)+"px")});this._ctaVisible=!1;b("clearTimeout")(this._timerId)},_showCTA:function(){var a=this;if(this._ctaVisible)return;new(b("LoggedOutLoginSignupBarTypedLogger"))().setEvent("login_signup_bar_load").setSurface(this._referrerSurface).log();b("Style").set(this._ctaUnit,"margin-top","0px");b("Style").set(this._expandingCta,"background","none");b("MAnimator").play(0,this._height,g,function(c){return b("Style").set(a._expandingCta,"height",Math.round(c)+"px")});this._ctaVisible=!0;this._ctaShownOnce=!0;b("clearTimeout")(this._timerId)},_updateCTA:function(){var a=b("MViewport").getHeight();if(a<this._height)if(this._ctaVisible)this._hideCTA();else return;a=this._scrollThreshold;!this._ctaVisible&&!this._ctaClosed&&b("MViewport").getScrollTop()>a&&this._showCTA();this._ctaVisible&&b("MViewport").getScrollTop()<a&&this._hideCTA()}};e.exports=a}),null);
__d("MTimelineCTRLogger",["BanzaiLogger","MLegacyDataStore","Stratcom"],(function(a,b,c,d,e,f,g){var h="timeline-ctr-logger";c("Stratcom").listen("click",h,function(a){a=d("MLegacyDataStore").get(a.getNode(h));c("BanzaiLogger").log(a.config,a.data)});a={};g["default"]=a}),98);
__d("MSearchEntityModuleClickListener",["csx","DOM","Parent","Run","Stratcom","SubscriptionsHandler"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=new(c("SubscriptionsHandler"))();b.addSubscriptions(d("DOM").listen(a.results_page,"click",null,function(b){b=b.getTarget();if(!b)return;b=d("Parent").bySelector(b,"[data-module-role]");if(b){b=b.getAttribute("data-module-role");if(b){b=a.entity_module_roles.indexOf(b)>-1;b&&c("Stratcom").invoke("m:search:refresh-nullstate-with-delay",null,{})}}}));d("Run").onLeave(function(){b.release()})}g.init=a}),98);
__d("InitMAjaxify",["MAjaxify","MLegacyDataStore","MLinkHack","MRequest","Stratcom"],(function(a,b,c,d,e,f){var g={};function h(a){g[a]=g[a]||new RegExp("(^|\\s+)"+a+"(\\s+|$)");return g[a]}function a(a,b){a=a.className||"";return a.match(h(b))}b("Stratcom").listen("click","ajaxify",function(a){a.prevent();var c=a.getNode("ajaxify"),d=c.getAttribute("data-ajaxify-class"),e=c.getAttribute("data-confirm-text");if(e&&!confirm(e))return;var f=b("MLegacyDataStore").get(c);if(f.loading)return;f.loading=!0;e=function(){f&&(f.loading=f.request=null),f=null};var g=function(){b("Stratcom").invoke("m:ajax:complete")};e={"finally":e,postprocess:g};g=b("MLinkHack").remove(c);var h=c.getAttribute("data-ajaxify-href")||c.getAttribute("href");if(c.getAttribute("data-method")==="post"){var i=new(b("MRequest"))(h);i.setAutoRetry(!0);f.request=i;b("MAjaxify").ajaxify(a.getRawEvent(),c,i,d,null)}else b("MAjaxify").link(a.getRawEvent(),h,d,e);g&&b("MLinkHack").add(c)})}),null);
__d("MExposeMore",["CSS","DOM","Stratcom"],(function(a,b,c,d,e,f,g){"use strict";var h=[];function i(){while(h.length)h.pop().remove()}var j="expose",k=!1,l=!0,m=!1;c("Stratcom").listen("click",[j,"more"],function(a){var b=a.getNode(j);c("CSS").conditionClass(b,"text_exposed",l);m?(l&&a.prevent(),l=!l):a.prevent()});function a(a){if(k)return;m=a.seeMoreSwitchExpandOnly;k=!0}function b(a,b){if(b.children.length!==0){h.length||h.push(c("Stratcom").listen("m:page:unload",null,i));a=d("DOM").scry(a,"*","more")[0];a&&h.push(d("DOM").listen(a,"click",null,function(a){c("CSS").show(b),a.prevent()}))}}g.init=a;g.showMessageSuffixOnClick=b}),98);
__d("MTouchable",["CSS","FlowMigrationUtilsForLegacyFiles","MLegacyDataStore","MTouchClick","MTouchableSyntheticClickGK","Stratcom","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){var h="touchable",i=3,j=160,k,l,m,n,o,p;function a(a){var b;l&&w(!1);l=a.getNode(h);if(((b=l)==null?void 0:b.getAttribute("disabled"))!==null){a.prevent();l=null;return}a=(b=a.getRawEvent())==null?void 0:b.targetTouches[0];a==null&&d("FlowMigrationUtilsForLegacyFiles").invariantViolation("Touch must not be null here");m=a.target;u();k=[c("Stratcom").listen("touchmove",h,q),c("Stratcom").listen("touchend",h,r),c("Stratcom").listen("touchcancel",h,s)];n={x:a.screenX,y:a.screenY};o=c("setTimeoutAcrossTransitions")(function(){l&&w(!0)},j)}function q(a){l&&x(a)&&(w(!1),t())}function r(a){if(l){var b=!p;w(!0);c("MTouchableSyntheticClickGK").USE_SYNTHETIC_CLICK&&!d("MLegacyDataStore").get(l).nativeClick&&m instanceof Element&&m.getAttribute("target")!="_blank"&&d("MTouchClick").click(m,a);v(b)}else d("MTouchClick").killGhostClicksNearTouch(),v()}function s(){l&&w(!1),v()}function t(a){clearTimeout(o),l&&c("setTimeoutAcrossTransitions")(w.bind(null,!1,l),a?j:0),p=!1,m=l=n=null}function u(){k&&(k.forEach(function(a){a.remove()}),k=[])}function v(a){t(a),u()}function w(a,b){b||(p=a);b=b||l;b&&c("CSS").conditionClass(b,"touched",a)}function x(a){var b;b=(b=a.getRawEvent())==null?void 0:b.targetTouches[0];var c=document;c=c.documentElement;(c==null||n==null||b==null)&&d("FlowMigrationUtilsForLegacyFiles").invariantViolation("Document, origin, and touch must not be null here");a=a.getNode("moving-box")||c.scrollWidth>window.innerWidth;return Math.abs(n.y-b.screenY)>=i||a&&Math.abs(n.x-b.screenX)>=i}d("MTouchClick").hasTouchEvents()&&c("Stratcom").listen("touchstart",h,a)}),34);
__d("MModalDialogInit",["MModalDialog"],(function(a,b,c,d,e,f){a.FW_ENABLED||b("MModalDialog").init()}),null);
__d("ArtillerySegment",["invariant","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g,h){var i=0;a=function(){function a(a){a||h(0,1496),"category"in a&&"description"in a||h(0,3138,JSON.stringify(a)),this.$1=!1,this.$2=babelHelpers["extends"]({},a,{id:(i++).toString(36)}),this.$3=[]}var b=a.prototype;b.getID=function(){return this.$2.id};b.begin=function(){this.$2.begin=c("performanceAbsoluteNow")();return this};b.end=function(){this.$2.end=c("performanceAbsoluteNow")();return this};b.appendChild=function(){var a=this;this.$1&&h(0,37302,this.$2.description);for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];c.forEach(function(b){a.$3.push(b.getID())});return this};b.setPosted=function(){this.$1=!0;return this};b.getPostData=function(){return babelHelpers["extends"]({},this.$2,{id:this.$2.id,children:this.$3.slice()})};return a}();g["default"]=a}),98);
__d("ArtillerySequence",["invariant"],(function(a,b,c,d,e,f,g,h){var i=0;a=function(){function a(a){a||h(0,1496),"description"in a||h(0,1497,JSON.stringify(a)),this.$1=!1,this.$2=babelHelpers["extends"]({},a,{id:(i++).toString(36)}),this.$3=[]}var b=a.prototype;b.getID=function(){return this.$2.id};b.addSegment=function(){var a=this;this.$1&&h(0,37342,this.$2.description);for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];c.forEach(function(b){a.$3.push(b.getID())});return this};b.setPosted=function(){this.$1=!0;return this};b.getPostData=function(){return babelHelpers["extends"]({},this.$2,{id:this.$2.id,segments:this.$3.slice()})};return a}();g["default"]=a}),98);
__d("ArtilleryTrace",["invariant","ArtillerySegment","ArtillerySequence"],(function(a,b,c,d,e,f,g,h){a=function(){function a(){this.$1=!1,this.$3=void 0,this.$4={},this.$5={},this.$6=[],this.$7=[],this.$8={},this.$9=[],this.$10=null}var b=a.prototype;b.createSequence=function(a){this.$1&&h(0,4917);a=new(c("ArtillerySequence"))(a);this.$6.push(a);return a};b.createSegment=function(a){this.$1&&h(0,4918);a=new(c("ArtillerySegment"))(a);this.$7.push(a);return a};b.markSegment=function(a,b){this.$1&&h(0,4919);this.$8[b]=a.getID();return this};b.connectTrace=function(a,b){this.$1&&h(0,4919);b=b||this.$2;b||h(0,4920);this.$9.push({segment:a.getID(),trace:b});return this};b.setID=function(a,b){!this.$2&&!this.$3||h(0,4921);this.$2=a;this.$3=b;return this};b.getID=function(){return this.$2};b.getArtillery2ID=function(){return this.$3};b.addProperty=function(a,b){this.$4[a]=b;return this};b.addTagset=function(a,b){this.$5[a]=b;return this};b.addActivePolicies=function(a){this.addTagset("active_policies",a);this.addTagset("policy",a);return this};b.getProperty=function(a){return this.$4[a]};b.getTagset=function(a){return this.$5[a]};b.getActivePolicies=function(){return this.getTagset("active_policies")};b.post=function(){this.$1&&h(0,37290,this.$2);this.$1=!0;var a=this.$10;a&&a({id:this.$2,artillery2Id:this.$3,properties:this.$4,tagsets:this.$5,sequences:this.$6.map(function(a){return a.setPosted().getPostData()}),segments:this.$7.map(function(a){return a.setPosted().getPostData()}),marks:babelHelpers["extends"]({},this.$8),connections:this.$9.slice()})};b.setOnPost=function(a){this.$10&&h(0,4923);this.$10=a;return this};b.isPosted=function(){return this.$1};return a}();g["default"]=a}),98);
__d("ServiceWorkerRegistration",["BrowserPaymentHandlerConfig","ClientServiceWorkerMessage","EventListener","Promise","Run","promiseDone"],(function(a,b,c,d,e,f){var g,h=!!navigator.serviceWorker,i={},j={name:"Facebook Pay",method:self.location.origin+"/pay"};function k(a){if(!b("BrowserPaymentHandlerConfig").enabled)return;(a=a.paymentManager)==null?void 0:(a=a.instruments)==null?void 0:a.set("Facebook",j)}function l(){var a=navigator.serviceWorker;if(!h||!a)throw new Error("serviceWorker is not supported in this browser");return a}var m={isSupported:function(){return h},registerWorkerIfUnregisteredAfterDD:function(a){b("Run").onAfterLoad(function(){m.registerWorkerIfUnregistered(a)})},registerWorkerIfUnregistered:function(a){if(i[a])return i[a];var c=l(),d=i[a]=new(g||(g=b("Promise")))(function(d,e){b("promiseDone")(m.getWorkerRegistration(a),function(f){if(!f){var h=b("EventListener").listen(window,"message",function(a){(a==null?void 0:(a=a.data)==null?void 0:a.command)==="ServiceWorkerInstallError"&&e()});b("promiseDone")((g||(g=b("Promise"))).resolve(c.register(a,{updateViaCache:"all"})),function(){h.remove(),b("promiseDone")((g||(g=b("Promise"))).resolve(c.ready),d)})}else d(f)})});b("promiseDone")(d,function(b){i[a]=null,k(b)});return d},unregisterControllingWorker:function(){return new(g||(g=b("Promise")))(function(a,c){c=new(b("ClientServiceWorkerMessage"))("unregister",{},function(){a(!0)});c.sendViaController()})},getWorkerRegistration:function(a){var b=l();return b.getRegistration(a)},isAWorkerActivated:function(){return!navigator.serviceWorker||!navigator.serviceWorker.getRegistration?(g||(g=b("Promise"))).resolve(!1):navigator.serviceWorker.getRegistration().then(function(a){return!!(a&&a.active)})}};e.exports=m}),null);
__d("Artillery",["invariant","ArtilleryTrace","Banzai","ClientServiceWorkerMessage","Run","ServiceWorkerRegistration","forEachObject","mixInEventEmitter","performance"],(function(a,b,c,d,e,f,g,h){var i=!1,j=!1,k=[],l,m,n,o={},p={},q=!1,r=!1;function s(){if(i)return;i=!0;c("Banzai").subscribe(c("Banzai").SHUTDOWN,function(){u._postAll()})}function t(){m=null,l=null,p={},o={},n=null,r=!1}var u={isEnabled:function(){return j},createTrace:function(){s();var a=new(c("ArtilleryTrace"))();a.setOnPost(function(a){u.emitAndHold("posttrace",a)});k.push(a);return a},getPageTrace:function(){l||h(0,4261);if(n)return n;var a=u.createTrace().setID(l,m);c("forEachObject")(o,function(b,c,d){a.addProperty(c,b)});c("forEachObject")(p,function(b,c,d){a.addTagset(c,b)});n=a;return a},setPageProperties:function(a){o=a},addPageTagset:function(a,b){n==null?p[a]=b:n.addTagset(a,b)},setActivePolicies:function(a){u.addPageTagset("active_policies",a),u.addPageTagset("policy",a)},getPageActivePolicies:function(){return u.getPageTagset("active_policies")},enableLogServiceWorker:function(){c("ServiceWorkerRegistration").isSupported()&&(q=!0)},getPageProperty:function(a){if(n==null)return o[a];else return n.getProperty(a)},getPageTagset:function(a){if(n==null)return p[a];else return n.getTagset(a)},enable:function(){j=!0,r||(d("Run").onLeave(t),r=!0)},disable:function(){j=!1},setPageTraceID:function(a,b){if(l===a&&m===b)return;!l&&!m||h(0,4262);l=a;m=b;if(q&&c("performance")&&c("performance").timing&&c("performance").timing.navigationStart){a=new(c("ClientServiceWorkerMessage"))("asw-sendStartupData",{traceID:m,windowStart:c("performance").timing.navigationStart},null);a.sendViaController()}},_postAll:function(){k.forEach(function(a){return!a.isPosted()&&a.post()})}};c("mixInEventEmitter")(u,{posttrace:!0});a=u;g["default"]=a}),98);
__d("TransportSelectingClientSingletonConditional",["cr:5800"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:5800")}),98);
__d("isStringNullOrEmpty",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a==null||a===""}f["default"]=a}),66);
__d("GHLBox",["FBLogger","GhlTennisKnobsConfig","Promise","WebStorage","gkx","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("json-bigint").__setRef("GHLBox"),j=atob("YXJlc19sYXN0X3NpZ25hbF9mbHVzaA=="),k=atob("YmR6X3BsYXliYWNrX3N0YXRl"),l=36,m=c("gkx")("3499"),n=c("GhlTennisKnobsConfig").ghlbox_log_validity_in_mins*60*1e3,o=c("GhlTennisKnobsConfig").ghlbox_initialize_in_mins*60*1e3;a=3;d=function(){return new(h||(h=b("Promise")))(function(a){i.onReady(function(b){var c=p(b,!0);b=p(b);if(c===0&&b===0)return a(!1);if(c!==b){q(Date.now());return a(!0)}return Date.now()-b<=n?a(!0):a(!1)})})};var p=function(a,b){b===void 0&&(b=!1);var d=c("WebStorage").getLocalStorageForRead();if(!d||!m)return 0;var e;if(!b){b=(b=d.getItem(j))!=null?b:"";e=Number.parseInt(b,10)}else{b=(d=(a=a.parse(d.getItem(k)))==null?void 0:a.session_key)!=null?d:"";e=Number.parseInt(b,l)}return!Number.isFinite(e)?0:e};e=function(){var a=c("WebStorage").getLocalStorage();if(!a||!m)return;if(a.getItem(j)!==null)return;if(a.getItem(k)!==null)return;q(Date.now()-o)};var q=function(a){i.onReady(function(b){var d=c("WebStorage").getLocalStorage();if(d&&m){var e=a.toString();try{d.setItem(j,e)}catch(a){c("FBLogger")("GHLBox").warn("Exception while writing to local storage exception: %s, tss: %s, tss.length: (%d)",a,e,e.length)}e={session_key:a.toString(l),buffer_length:60};d.setItem(k,b.stringify(e))}})};f=q;d=d;e=e;g.MinimumHiddenAdsToUpdateLocalStorage=a;g.s=f;g.r=d;g.i=e}),98);
__d("ghlInternalCreateMap",["ODS"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(){}var b=a.prototype;b.get=function(){return null};b.has=function(a){return!1};b.set=function(a,b){return this};b["delete"]=function(a){return!1};return a}();function a(){var a;a=(a=(a=window.WeakMap)!=null?a:window.Map)!=null?a:h;a!==window.WeakMap&&d("ODS").bumpEntityKey(2966,"feed_ads","ghlCreateMap.fallback."+String(a===window.Map));return new a()}g["default"]=a}),98);
__d("GHLInternalMonitorStore_DO_NOT_USE",["invariant","ghlInternalCreateMap"],(function(a,b,c,d,e,f,g,h){"use strict";var i=[],j=c("ghlInternalCreateMap")(),k=[];a=function(a){i.push(a)};b=function(a){i.forEach(function(b,c){if(b.b!=="bsu")return;var d=a(b);if(d!=null){var e=babelHelpers["extends"]({},b,d);if(e.b==="bsb"){b=j.get(e.el);b!=null&&(b(e),j["delete"](e.el));k.forEach(function(a){return a(e)})}i[c]=e}})};var l=function(a){return i.find(function(b){return b.el===a})};d=function(a){return l(a)!=null};e=function(a,b){var c=l(a);j.has(a)&&h(0,18634);c!=null&&c.b==="bsb"?b(c):j.set(a,b);return{dispose:function(){return j["delete"](a)}}};f=function(a){k.push(a);i.filter(function(a){return a.b==="bsb"}).forEach(a);return{dispose:function(){return k=k.filter(function(b){return b===a})}}};g.add=a;g.mapUpdate=b;g.get=l;g.has=d;g.observe=e;g.observeAny=f}),98);
__d("GhlTestUbtFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1942319");b=d("FalcoLoggerInternal").create("ghl_test_ubt",a);e=b;g["default"]=e}),98);
__d("GHLTestElement",["csx","invariant","ODS","Parent","URI","containsNode","getElementPosition","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;a=function(a,c){var d=Array.from(a.querySelectorAll("img"));if(b("gkx")("1059877")){var e=(i||(i=b("URI"))).getRequestURI();e=e!=null?e.getPath():"";var f="images"+c,g="length_"+String(d.length);n(f+"."+g);n(f+".path_"+e+"."+g)}d.length>0||h(0,13937);f=d.filter(k);if(f.length===0){b("gkx")("1059877")&&k(a)&&n("images_removed_but_element_exists");n("skipping_check_for_incompatible_element"+c);return!1}e=f.filter(function(a){a=b("getElementPosition")(a);return a.width>0||a.height>0});g=e.length===0;return g&&!l(a)};var k=function(a){var c;return b("containsNode")(a==null?void 0:(c=a.ownerDocument)==null?void 0:c.documentElement,a)},l=function(a){return!!b("Parent").bySelector(a,m)},m=[".hidden_elem","._5ds2","._i6m"].join(","),n=function(a){return(j||(j=b("ODS"))).bumpEntityKey(2966,"feed_ads","GHLTestElement.testElementI."+a)};e.exports={testElementI:a}}),null);
__d("ghlScan",["ODS"],(function(a,b,c,d,e,f,g){"use strict";var h=1,i=2,j=3,k=4,l=5,m=6,n=/^[a-z0-9]{7}$/;function a(a){try{var b=new Set();o()&&b.add(j);a.getAttributeNames!=null&&a.getAttributeNames().find(function(b){return n.test(b)&&a.getAttribute(b)===""})&&b.add(l);document.getElementById(atob("c2Z4X2JhZGdl"))&&b.add(k);document.getElementById(atob("ZmJwdXJpdHlpbmZvd3JhcHBlcg=="))&&b.add(m);return b.size>0?b:new Set([h])}catch(a){d("ODS").bumpEntityKey(2966,"feed_ads","_ghlScan."+a);return new Set([i])}}var o=function(){var a=window,b=a.atob;a=a.getComputedStyle;if(b==null||a==null)return!1;a="."+[b("QWRCb3g"),b("QWQ"),b("YWR2ZXJ0"),b("cG9zdC1hZHM")].join(".");b=document.querySelector(a);if(!(b instanceof HTMLElement))return!1;b.style.display="inline";a=window.getComputedStyle(b);return a.getPropertyValue("display")==="block"};g["default"]=a}),98);
__d("ghlInternalLog",["Banzai","cr:1088657","ghlInternalBumpODSKey","ghlScan"],(function(a,b,c,d,e,f,g){"use strict";var h="swank",i=0,j=6;function a(a){var d=a.b,e=a.el,f=a.o,g=a.te,l=a.ts;a=a.xt;if(d!=="bsb"){c("ghlInternalBumpODSKey")("ghlInternalLog","missing-b");return}if(g==null){c("ghlInternalBumpODSKey")("ghlInternalLog","missing-te");return}d=k(l,g);l=["xtrackable:"+h,{token:a,event_code:f?j:i,hidden_delay:d,sources:Array.from(c("ghlScan")(e))}];c("Banzai").post.apply(c("Banzai"),l);b("cr:1088657")&&b("cr:1088657").b({hd:d,e:e,token:(g=a)!=null?g:""})}var k=function(a,b){return Math.max(0,100*Math.round((b-a)/100))};g["default"]=a}),98);
__d("queryThenMutateDOM",["ErrorUtils","Run","TimeSlice","emptyFunction","gkx","requestAnimationFrame"],(function(a,b,c,d,e,f){var g,h,i,j=[],k={};function l(a,c,d){if(!a&&!c)return{cancel:b("emptyFunction")};if(d&&Object.prototype.hasOwnProperty.call(k,d))return{cancel:b("emptyFunction")};else d&&(k[d]=1);c=b("TimeSlice").guard(c||b("emptyFunction"),"queryThenMutateDOM mutation callback",{propagationType:b("TimeSlice").PropagationType.CONTINUATION,registerCallStack:!0});a=b("TimeSlice").guard(a||b("emptyFunction"),"queryThenMutateDOM query callback",{propagationType:b("TimeSlice").PropagationType.CONTINUATION,registerCallStack:!0});var e={queryFunction:a,mutateFunction:c,output:null,deleted:!1};j.push(e);n();h||(h=!0,b("gkx")("708253")||b("Run").onLeave(function(){h=!1,i=!1,k={},j.length=0}));return{cancel:function(){e.deleted=!0,d&&delete k[d]}}}l.prepare=function(a,b,c){return function(){for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];e.unshift(this);var g=Function.prototype.bind.apply(a,e),h=b.bind(this);l(g,h,c)}};var m=b("TimeSlice").guard(function(){while(j.length){k={};var a=[];window.document.body.getClientRects();while(j.length){var b=j.shift();b.deleted||(b.output=o(b.queryFunction),a.push(b))}while(a.length){b=a.shift();b.deleted||o(b.mutateFunction,null,[b.output])}}i=!1},"queryThenMutateDOM runScheduledQueriesAndMutations",{propagationType:b("TimeSlice").PropagationType.ORPHAN});function n(){!i&&j.length&&(i=!0,b("requestAnimationFrame")(m))}function o(a,c,d,e,f){return(g||(g=b("ErrorUtils"))).applyWithGuard(a,c,d,e,f)}e.exports=l}),null);
__d("ghlMonitor",["invariant","GHLInternalMonitorStore_DO_NOT_USE","GHLTestElement","ghlInternalLog","once","queryThenMutateDOM","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,e,f){f===void 0&&(f=!1);if(!k(a))return;d("GHLInternalMonitorStore_DO_NOT_USE").add({b:"bsu",r:0,el:a,o:f,ts:Date.now(),te:null,s:b,xt:e});i();d("GHLInternalMonitorStore_DO_NOT_USE").observe(a,c("ghlInternalLog"))}var i=c("once")(function(){j(),c("setIntervalAcrossTransitions")(j,1e3)}),j=function(){c("queryThenMutateDOM")(function(){var a=15,b=1,c=2,e=5;d("GHLInternalMonitorStore_DO_NOT_USE").mapUpdate(function(f){var g=f.r,h=f.el;f=f.o;if(!f&&a*b<g||f&&c*e<g)return{b:"bsn",te:Date.now()};if(!f&&g%b!==0||f&&g%e!==0)return{r:g+1};f=d("GHLTestElement").testElementI(h,"ghlMonitor");return f?{b:"bsb",te:Date.now()}:{r:g+1}})})},k=function(a){return a.querySelectorAll("img").length===0?!1:!0};g["default"]=a}),98);
__d("ghlTestUBT",["cr:1543261","cr:334"],(function(a,b,c,d,e,f,g){"use strict";b("cr:1543261")&&b("cr:1543261")(),g["default"]=b("cr:334")}),98);
__d("GHLSurvey",["GHLInternalMonitorStore_DO_NOT_USE","GhlTestUbtFalcoEvent","ghlInternalBumpODSKey","ghlMonitor","ghlTestUBT"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return c("ghlTestUBT")(function(a,b){c("GhlTestUbtFalcoEvent").log(function(){return{recent:b,ubt:a}})})};b=function(a,b){a=document.getElementById(a);if(a==null)return;h(a,b)};var h=function(a,b){if(d("GHLInternalMonitorStore_DO_NOT_USE").has(a)){c("ghlInternalBumpODSKey")("GHLSurvey","duplicate-b");return}if(b.t===""){c("ghlInternalBumpODSKey")("GHLSurvey","missing-t");return}c("ghlMonitor")(a,b.s,b.t,b.o)};g.survey=a;g.monitorID=b;g.monitorEl=h}),98);
__d("ghlTestUBTFacebook",["ConstUriUtils","GHLBox","Promise","cr:1088657","ghlInternalBumpODSKey","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){a=d("ConstUriUtils").getUri(a);if(a==null)throw c("unrecoverableViolation")("URI cannot be null in ghlTestUBTFacebook.","ad_blocker_defense_ghost_owl");return a},j=function(a){return new(h||(h=b("Promise")))(function(b){var c=window.atob,d=document.body;if(c==null||d==null){b(!1);return}var e=document.createElement("div");e.className=a.map(c).join(" ");d.appendChild(e);c=m(e);if(c&&c.MozBinding&&c.MozBinding.startsWith("url")){setTimeout(function(){return b(e.clientWidth===0)},5e3);return}b((c==null?void 0:c.display)==="none")})},k=function(){return new(h||(h=b("Promise")))(function(a){var b=document.body;if(b==null){a(!1);return}var c=document.createElement("img");c.setAttribute("alt","");b.appendChild(c);c.onload=function(){var b=m(c);a((b==null?void 0:b.display)==="none");c.parentNode&&c.parentNode.removeChild(c)};c.onerror=function(){a(!0),c.parentNode&&c.parentNode.removeChild(c)};c.src=i("https://scontent.xx.fbcdn.net/hads-ak-prn2/1487645_6012475414660_1439393861_n.png").toString()})},l=null;a=function(a){l==null&&(q("init"),l=new(h||(h=b("Promise")))(function(a){return c("promiseDone")((h||(h=b("Promise"))).all([j(n),k(),j([o(p)]),d("GHLBox").r()]),function(b){var c=b[0],e=b[1],f=b[2];b=b[3];q("done",c,e,f);c=c||e||f;c?d("GHLBox").s(Date.now()):d("GHLBox").i();a([c,b])})})),c("promiseDone")(l,function(b){return a(b[0],b[1])}),b("cr:1088657")&&b("cr:1088657").i()};var m=function(a){return window.getComputedStyle(a)},n=["QWRCb3g=","QWQ=","YWR2ZXJ0","cG9zdC1hZHM="],o=function(a){return a[Math.floor(Math.random()*a.length)]},p=["UmVjdGFuZ2xlQWQ=","YWR2ZXJ0aXNpbmdfd2lkZ2V0","ZG93bmxvYWRfbGlua19zcG9uc29yZWQ=","c3BvbnNvclBvc3Q=","d2lkZ2V0U3BvbnNvcnM=","b2ItaG92ZXI=","ZGZwX3VuaXQ="],q=function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c("ghlInternalBumpODSKey")("ghlTestUBT",String(b.join(".")))};e=a;g["default"]=e}),98);
__d("RDFDRequireDeferredReference",["RequireDeferredReference"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("RequireDeferredReference"));g["default"]=a}),98);
__d("requireDeferredForDisplay",["RDFDRequireDeferredReference"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return new(c("RDFDRequireDeferredReference"))(a)}g["default"]=a}),98);
__d("LogWebMemoryUsageFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1765264");b=d("FalcoLoggerInternal").create("log_web_memory_usage",a);e=b;g["default"]=e}),98);
__d("FalcoAppUniverse",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({FACEBOOK:1,INSTAGRAM:2});c=a;f["default"]=c}),66);
__d("Queue",[],(function(a,b,c,d,e,f){var g={};a=function(){function a(a){this._timeout=null,this._interval=(a==null?void 0:a.interval)||0,this._processor=a==null?void 0:a.processor,this._queue=[],this._stopped=!0}var b=a.prototype;b._dispatch=function(a){var b=this;a===void 0;if(this._stopped||this._queue.length===0)return;a=this._processor;if(a==null){this._stopped=!0;throw new Error("No processor available")}var c=this._interval;if(c!=null)a.call(this,this._queue.shift()),this._timeout=setTimeout(function(){return b._dispatch()},c);else while(this._queue.length)a.call(this,this._queue.shift())};b.enqueue=function(a){this._processor&&!this._stopped?this._processor(a):this._queue.push(a);return this};b.start=function(a){a&&(this._processor=a);this._stopped=!1;this._dispatch();return this};b.isStarted=function(){return!this._stopped};b.dispatch=function(){this._dispatch(!0)};b.stop=function(a){this._stopped=!0;a&&this._timeout!=null&&clearTimeout(this._timeout);return this};b.merge=function(a,b){if(b){(b=this._queue).unshift.apply(b,a._queue)}else{(b=this._queue).push.apply(b,a._queue)}a._queue=[];this._dispatch();return this};b.getLength=function(){return this._queue.length};a.get=function(b,c){var d;b in g?d=g[b]:d=g[b]=new a(c);return d};a.exists=function(a){return a in g};a.remove=function(a){return delete g[a]};return a}();f["default"]=a}),66);
__d("FalcoLoggerTransports",["AnalyticsCoreData","Banzai","ExecutionEnvironment","FBLogger","FalcoAppUniverse","FalcoUtils","ODS","PersistedQueue","Queue","WebSession","performanceAbsoluteNow","promiseDone","requireDeferredForDisplay","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferredForDisplay")("TransportSelectingClientSingletonConditional").__setRef("FalcoLoggerTransports"),i=5*1024,j=(b=c("AnalyticsCoreData").max_delay_br_queue)!=null?b:60*1e3,k=(e=c("AnalyticsCoreData").max_delay_br_queue_immediate)!=null?e:1e3;b=(f=c("AnalyticsCoreData").max_delay_br_init_not_complete)!=null?f:1e3;var l="falco:",m=new(c("Queue"))(),n=5e3,o=6e4,p=c("uuidv4")(),q="ods_web_batch",r=new Map(),s=new Set(),t=new Set(),u=(e=c("FalcoAppUniverse").cast(c("AnalyticsCoreData").app_universe))!=null?e:1,v=[],w=0,x=null,y=!1,z=!1,A=!1,B=!0,C=!1,D=Date.now()-o,E=1,F=b>j?b:j,G=b;Y();for(e=(f=c("AnalyticsCoreData").stateful_events_list_for_br)!=null?f:[],b=Array.isArray(e),f=0,e=b?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var H;if(b){if(f>=e.length)break;H=e[f++]}else{f=e.next();if(f.done)break;H=f.value}H=H;s.add(H)}for(f=(H=c("AnalyticsCoreData").stateless_non_fb_events_for_br)!=null?H:[],b=Array.isArray(f),e=0,f=b?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(b){if(e>=f.length)break;H=f[e++]}else{e=f.next();if(e.done)break;H=e.value}H=H;t.add(H)}function I(){return c("AnalyticsCoreData").enable_bladerunner&&!c("ExecutionEnvironment").isInWorker}function J(a,b){R(b.item.name,"js.br.add_to_batch",1,!0);var c=b.item.extra.length;w+c>i&&(clearTimeout(x),K());v.push([a,b]);w+=c}function K(){x=null;y=!1;var a=v;P("js.br.send_batch",a.map(function(a){return a[1].item}));if(!C){Q("js.br.init_not_complete.log",a.length);var b=function(){var b=a[c],d=b[0],e=b[1];R(e.item.name,"js.br.banzai_fallback_for_init_not_complete",1,!0);((b=e.item.logImmediate)!=null?b:!1)?S.logImmediately([e.item],function(a){return d.markItem(e,a)}):S.log([e.item],function(a){return d.markItem(e,a)})};for(var c=0;c<a.length;c++)b()}else m.enqueue(function(b){return b.log(a.map(function(a){return a[1].item}),function(b){if(!b){Q("js.br.banzai_fallback",a.length);var c=function(){var c=a[d],b=c[0],e=c[1];R(e.item.name,"js.br.banzai_fallback_for_failure",1,!0);((c=e.item.logImmediate)!=null?c:!1)?S.logImmediately([e.item],function(a){return b.markItem(e,a)}):S.log([e.item],function(a){return b.markItem(e,a)})};for(var d=0;d<a.length;d++)c();return}for(c=0;c<a.length;c++){var e=a[c],f=e[0];e=e[1];R(e.item.name,"js.br.success_callback.batch.send_batch",1,!0);f.markItem(e,b)}})});v=[];w=0}function L(a){var b,d=null;if((b=c("AnalyticsCoreData").br_stateful_batching_exp)!=null?b:!1){((b=c("AnalyticsCoreData").enable_br_stateful_batching)!=null?b:!1)?d=["exp:falco_js_br_stateful_batching:on"]:d=["exp:falco_js_br_stateful_batching:off"]}return{events:a.map(function(a){return{name:a.name,extra:a.extra,rate:a.policy.r,time:a.time/1e3,tag:0,tags:a.tags,shouldAddState:a.shouldAddState,identity:N(a.identity),expTags:d}})}}function M(a){var b;a={deviceId:c("AnalyticsCoreData").device_id,familyDeviceId:null,osBuildNumber:null,sessionId:a,appId:c("AnalyticsCoreData").app_id,appVersion:(a=c("AnalyticsCoreData").app_version)!=null?a:null,bundleId:null,consentState:null,identity:null,pushPhase:c("AnalyticsCoreData").push_phase};((b=(b=c("AnalyticsCoreData").stateful_events_list_for_br)==null?void 0:b.length)!=null?b:0)>0&&(a.ambientState=c("AnalyticsCoreData").state_for_br);a.identity=N(c("AnalyticsCoreData").identity);return Object.freeze(a)}function N(a){try{if(u===2){var b=a==null?void 0:a.appScopedIdentity;if(b!==void 0)return{appScopedIdentity:{uid:b,identifier:b,claims:[]}}}else{b=a==null?void 0:a.fbIdentity;if(b!==void 0)return{facebookIdentity:{actorId:b.actorId,accountId:b.accountId,claims:[]}}}}catch(a){d("ODS").bumpEntityKey(1344,"js.br.identity.propogation","exception.while.generating.identity",1)}return null}function O(a,b){for(var e=0;e<a.length;e++){var f,g=a[e];R(g.name,"js.banzai.posting_event",1,!1);f=(f={},f.e=g.extra,f.r=g.policy.r,f.d=c("AnalyticsCoreData").device_id,f.s=d("WebSession").getId(),f.t=g.time,f);g.privacyContext&&(f.p=g.privacyContext);g.tags!=null&&(f.b=g.tags);var h=g.identity;h&&(f.id=h);c("Banzai").post(l+g.name,f,b)}P("planes.banzai.write_to_transport",a)}function P(a,b){var c=0;for(var d=0;d<b.length;d++){var e=b[d];e.name!==q&&(c+=1)}c>0&&Q(a,c)}function Q(a,b){var e="falco.fabric.www."+c("AnalyticsCoreData").push_phase;d("ODS").bumpEntityKey(1344,e,a,b)}function R(a,b,c,e){if(a===q)return!1;d("ODS").bumpEntityKey(1344,"falco.event."+a,b,c);e&&Q(b,c);return!0}var S={log:function(a,b){P("js.banzai.post.log",a),O(a,c("Banzai").BASIC),b(!0)},logImmediately:function(a,b){P("js.banzai.post.log_immediately",a),O(a,c("Banzai").VITAL),b(!0)},logCritical:function(a,b){P("js.banzai.post.log_critical",a),O(a,{signal:!0,retry:!0}),b(!0)}};function T(a){Y();var b=U(a,"banzai_data_loss","log"),d=U(a,"banzai_data_loss","logImmediately"),e=U(a,"banzai_data_loss","logCritical"),f=U(a,"bladerunner_data_loss",""),g=U(a,"bladerunner_data_loss","logCritical");Q("js.br_data_loss.posted."+a,1);if(C&&B)try{m.enqueue(function(b){return b.log([f],function(b){if(!b){Q("js.br.transport_failure."+a,1);S.logCritical([g],function(b){Q("js.br.failure_fallback_success_callback."+a,1)});return}Q("js.br.success_callback."+a,1)})})}catch(b){Q("js.br.error_enqueueing."+a,1),S.logCritical([g],function(b){Q("js.br.enqueuing_fallback_success_callback."+a,1)})}else B||Q("js.br.failed."+a,1),C||Q("js.br.init_not_complete."+a,1),S.logCritical([g],function(b){Q("js.br.init_fallback_success_callback."+a,1)});O([b],c("Banzai").BASIC);O([d],c("Banzai").VITAL);O([e],{signal:!0,retry:!0})}function U(a,b,d){return{name:b,time:c("performanceAbsoluteNow")(),policy:{r:1},extra:JSON.stringify({event_index:a,falco_js_connection_id:p,logging_mode:d,logging_flow_flag:"original_flow"})}}function V(){D+n<Date.now()&&(T(E),D=Date.now(),E++)}function W(){window.setTimeout(function(){V(),E<=40&&W()},o)}function X(a){m.start(function(b){return b({log:function(d,b){P("planes.bladerunner.write_to_transport",d);var e=JSON.stringify(L(d));a?c("AnalyticsCoreData").enable_ack?c("promiseDone")(a.amendWithAck(e),function(a){P("planes.bladerunner.ack_received"+a.toString(),d),b(a)},function(){P("planes.bladerunner.ack_failure",d),b(!1)}):(a.amendWithoutAck(e),P("planes.bladerunner.write_without_ack",d)):(P("planes.bladerunner.request_stream_null",d),b(!1))},logImmediately:function(b,a){this.log(b,a)},logCritical:function(b,a){this.log(b,a)}})})}function Y(){if(z)return;C=!1;if(!I())return;h.onReady(function(a){if(!a){B=!1;m.start(function(a){return a(S)});return}a=a;var b={onTermination:function(a){a.message==="Stream closed"?(m.stop(!0),z=!1):(B=!1,u===2&&(d("ODS").bumpEntityKey(1344,"falco.ig.br.experiment","exception.when.br.stream.is.rejected",1),c("FBLogger")("ig_web","br_stream_rejected").catching(a).warn("BladeRunner stream is rejected")),m.start(function(a){return a(S)}))},onFlowStatus:function(){}};c("promiseDone")(a.requestStream({method:"Falco"},JSON.stringify(M(d("WebSession").getId())),b,{requestId:""}).then(function(b){a=b,X(a),C=!0,F=j,G=k})["catch"](function(a){m.stop(!0),z=!1}))});z=!0}function Z(a){var b=a.name;if(!I()||!B)return!1;if(s.has(b)){a.shouldAddState=!0;return!0}return u!==1&&c("AnalyticsCoreData").enable_non_fb_br_stateless_by_default!==!0&&!t.has(b)?!1:a.policy.s===1}function $(a){if(a==="")return null;if(r.has(a))return r.get(a);else{var b={claim:""},c=a.split("^#");if(c.length>=4){var d=c[0],e=c[1],f=c[2];c=c[3];f!==""?b={appScopedIdentity:f,claim:c}:d!==""&&(b={fbIdentity:{accountId:d,actorId:e},claim:c});r.set(a,b)}return b}}function a(){if(A)return;A=!0;c("PersistedQueue").setHandler("falco_queue_log",function(b){var c,d=b.getQueueNameSuffix(),e=$(d);while(c=b.dequeueItem())(function(c){Z(c.item)?(R(c.item.name,"js.use_bladerunner.log",1,!0),Y(),x==null&&(x=setTimeout(K,F)),e&&!a(d)&&(c.item.identity=e),J(b,c)):(R(c.item.name,"js.use_banzai.log",1,!0),e&&(c.item.identity=e),S.log([c.item],function(a){return b.markItem(c,a)}))})(c)});c("PersistedQueue").setHandler("falco_queue_immediately",function(b){var d,e=b.getQueueNameSuffix(),f=$(e);while(d=b.dequeueItem())(function(d){Z(d.item)?(R(d.item.name,"js.use_bladerunner.log_immediately",1,!0),Y(),(x==null||!y)&&(clearTimeout(x),x=setTimeout(K,G),y=!0),d.item.logImmediate=!0,f&&!a(e)&&(d.item.identity=f),J(b,d),c("PersistedQueue").isPersistenceAllowed()||(R(d.item.name,"js.br.send_immediately_no_persistence",1,!0),K())):(R(d.item.name,"js.use_banzai.log_immediately",1,!0),f&&(d.item.identity=f),S.logImmediately([d.item],function(a){return b.markItem(d,a)}))})(d)});c("PersistedQueue").setHandler("falco_queue_critical",function(b){var c,d=b.getQueueNameSuffix(),e=$(d);while(c=b.dequeueItem())(function(c){var f=c.item;Z(f)?(R(f.name,"js.use_bladerunner.log_critical",1,!0),Y(),!C?(R(f.name,"js.br.init_not_complete.logCritical",1,!0),e&&(f.identity=e),S.logCritical([f],function(a){return b.markItem(c,a)})):(e&&!a(d)&&(f.identity=e),m.enqueue(function(a){return a.logCritical([f],function(a){if(!a){Q("js.br.banzai_fallback.critical",1);R(c.item.name,"js.br.banzai_fallback_for_failure.critical",1,!0);!f.identity&&e&&(f.identity=e);S.logCritical([f],function(a){return b.markItem(c,a)});return}R(c.item.name,"js.br.success_callback.batch.critical",1,!0);b.markItem(c,a)})}),a(d)||R(c.item.name,"js.bladerunner.identity.mismatch",1,!0))):(e&&(f.identity=e),R(f.name,"js.use_banzai.log_critical",1,!0),S.logCritical([f],function(a){return b.markItem(c,a)}))})(c)});c("AnalyticsCoreData").enable_dataloss_timer&&(Y(),V(),W());function a(a){try{var b=d("FalcoUtils").identityToString(c("AnalyticsCoreData").identity);return a===b}catch(a){d("ODS").bumpEntityKey(1344,"js.br.identity.check","exception.when.comparing.with.current.user.identity",1);return!0}}}g.attach=a}),98);
__d("EventProfiler",["cr:708886"],(function(a,b,c,d,e,f,g){g["default"]=b("cr:708886")}),98);
__d("EventProfilerSampler",["EventConfig"],(function(a,b,c,d,e,f){"use strict";var g=b("EventConfig").sampling||{},h={canSample:function(a){return!!g[a]},getEventSampleWeights:function(a){a.__samplingWeights==null&&(a.__samplingWeights={event:i(h.getEventWeight(a))});return a.__samplingWeights},getEventWeight:function(a){a=a.type in g?g[a.type]:1;return a*g.__eventDefault},getEventInteractionIDs:function(a,b){return[]}};function i(a){if(a===0)return 0;var b=g.__min||1;a=Math.round(Math.max(b,a));return Math.random()*a<1?a:0}e.exports=h}),null);
__d("getParentClassesForEventProfiler",["cx"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){if(!a||!(a instanceof HTMLElement))return"";var b=a.id,c=a.nodeName,d=a.getAttribute("class");c=c?c.replace(/^#/,""):"unknown";b=b?"#"+b:"";d=d?" "+d.replace(/\s+/g," ").trim():"";if(a.getAttribute("rel")==="theater"){a="_342u";d=d.length?d+" "+a:a}return":"+c+b+d}function a(a){var b=[];while(a&&a instanceof HTMLElement)b.push(i(a)),a=a.parentElement;b.reverse();return b}g["default"]=a}),98);
__d("EventProfilerImpl",["Bootloader","EventProfilerAdsSessionProvider","EventProfilerSampler","ScriptPath","TimeSlice","UserAgent","getParentClassesForEventProfiler","performanceAbsoluteNow","requestAnimationFrameAcrossTransitions","setTimeoutAcrossTransitions","uniqueID"],(function(a,b,c,d,e,f){var g,h={},i={},j={},k=!1,l=0,m=new Set(["click","keydown","mousewheel","scroll"]),n=null,o=null;c={__wrapEventListenHandler:function(a){return function(c,d){var e=this;if(!b("EventProfilerSampler").canSample(c))return a.call(this,c,d);var f={event:0},s=(g||(g=b("performanceAbsoluteNow")))();d.id=d.id||b("uniqueID")();var t=d.id,u,v=j[t],w=null;i[t]===void 0&&!v?(w=b("getParentClassesForEventProfiler")(d.target),f=r(d),o!=null&&o.beforeHandlers(t,c),u=a.call(this,c,d),j[t]=b("TimeSlice").getGuardedContinuation("Event Bubble Continuation")):(f=r(d),u=v(function(){j[t]=b("TimeSlice").getGuardedContinuation("Event Bubble Continuation");return a.call(e,c,d)}));v=g();if(i[t]===void 0){w=w;var x=q(d);x=x||s;var y=Math.max(s-x,0),z=null;b("UserAgent").isBrowser("Chrome")&&(z=!!d.cancelable);var A=z&&(!!d.deliberateSync||b("UserAgent").isBrowser("Chrome < 51"));i[t]={event_name:c,event_start_ms:Math.round(x),main_thread_wait_ms:Math.round(y),event_handlers_runtime_ms:0,script_path:b("ScriptPath").getScriptPath()||"<unknown>",request_animation_frame_wait_ms:0,set_timeout_wait_ms:0};h[t]={event_target_raw:w,weight:f.event,cancelable:!!z,deliberate_sync:!!A,ad_account_id:n,event_end_ms:0};y=b("EventProfilerAdsSessionProvider").sessionID;y&&(h[t].ads_session_id=y);var B=!1;m.has(c)&&(!k&&l<x&&(k=!0,B=!0),h[t].is_first_in_frame=B,h[t].is_first_overlapping=B);b("requestAnimationFrameAcrossTransitions")(function(){var a=(g||(g=b("performanceAbsoluteNow")))();i[t].request_animation_frame_wait_ms=Math.round(a-h[t].event_end_ms);delete h[t].event_end_ms;var d=!1;function e(){if(d)return;d=!0;var e=(g||(g=b("performanceAbsoluteNow")))();i[t].set_timeout_wait_ms=Math.round(e-a);p(t,s,e);m.has(c)&&B&&(k=!1,l=e);e=j[t];e&&delete j[t];delete i[t];delete h[t]}b("requestAnimationFrameAcrossTransitions")(e);b("setTimeoutAcrossTransitions")(e,0)})}i[t].event_handlers_runtime_ms+=v-s;h[t].event_end_ms=v;o!=null&&o.afterEachHandler(t,i[t]);return u}},setCurrentAdAccountId:function(a){n=a},setAdsConfig:function(a){o=a}};function p(a,c,d){c=i[a];c.event_handlers_runtime_ms=Math.round(c.event_handlers_runtime_ms);var e=babelHelpers["extends"]({},i[a],h[a]);o!=null&&o.beforeLog(a,e);e.weight&&b("Bootloader").loadModules(["WebSpeedInteractionsTypedLogger","PerfXSharedFields"],function(a,b){b.addCommonValues(e),new a().updateData(e).log()},"EventProfilerImpl")}var q=function(){function b(a){return null}if(!a.performance||!a.performance.now||!a.performance.timing||!a.performance.timing.navigationStart)return b;var c=a.performance.timing.navigationStart,d=a.CustomEvent&&(typeof a.CustomEvent==="function"||a.CustomEvent.toString().indexOf("CustomEventConstructor")>-1);d=d?new a.CustomEvent("test").timeStamp:a.document.createEvent("KeyboardEvent").timeStamp;return d&&d<=a.performance.now()?function(a){return a.timeStamp+c}:b}();function r(a){return o!=null?o.getEventSampleWeights(a):b("EventProfilerSampler").getEventSampleWeights(a)}e.exports=c}),null);